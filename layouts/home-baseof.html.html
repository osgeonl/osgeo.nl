{{- $s := site.Params }}
{{- $p := .Params }}
{{- $codeBlockConfig := partial "func/getCodeBlockSettings" . }}
<!DOCTYPE html>
<html
  lang="{{ .Lang }}"
  data-figures="{{ $p.figurePositionShow }}"
  {{ if .IsPage }}
    class="page"
  {{ else if .IsHome }}
    class="home"
  {{ end }}
  {{ with $s.enforceLightMode }}
    data-mode="lit"
  {{ end }}
  {{ with $s.enforceDarkMode }}
    data-mode="dim"
  {{ end -}}
>
  <head>
    {{- partial "head" . }}
    {{- partial "hooks/head-end" . }}
  </head>
  <body
    data-code="{{ $codeBlockConfig.max }}"
    data-lines="{{ $codeBlockConfig.lines }}"
    id="documentTop"
    data-lang="{{ .Lang }}"
  >
    {{- partial "header" . }}
    <main>
        <div class="grid-inverse wrap content">
          <div id="front-text3">
            {{ with .Site.GetPage "/home" }}
              <h1 class="post_title">{{ .Title }}</h1>
              {{ .Content }}
            {{ end }}
          </div>

          <div>
            # RECENT POSTS
            {{ range ( last 2 ( where .Site.Pages "Type" "in" site.Params.mainSections ).ByDate ) }}
              <div style="display:flex;flex-direction:row;">
                <div style="background-image:url({{ .Param "featured_image" }}); background-repeat:no-repeat;height:100px;width:100%;">&nbsp;</div>
                <div>
                  <a href="{{ .Permalink }}">{{ .Title }}</a>
                </div>
              </div>
            {{ end }}
            # RECENT POSTS+
          </div>
        
          {{- partial "sidebar" . }}
        </div>
    </main>

    {{- partialCached "icons" . }}
    {{- partialCached "footer" . }}
    {{- partialCached "scripts" . }}
    {{- partialCached "hooks/body-end" . }}
  </body>
</html>
